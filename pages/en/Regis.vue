<template>
    <en-Header />
    <div class="container">
        <h1>Register</h1>

        <div class="bank-details">
            <h2>Bank account</h2>
            <p>Kasikorn</p>
            <p>Account name: ‡∏™‡∏°‡∏≤‡∏Ñ‡∏°‡∏¢‡∏±‡∏Å‡∏©‡πå‡∏Ç‡∏≤‡∏ß</p>
            <p>Account number: 062-8-46998-9</p>
            <p>Phone: 061-265-0505</p>
        </div>

        <div class="packages">
            <div v-for="(pkg, index) in packages" :key="index" class="package">
                <h3>{{ pkg.name }}</h3>
                <p v-for="(feature, i) in pkg.features" :key="i" :class="{ 'grey-text': !feature.included }">
                    {{ feature.text }}
                </p>
                <div class="price">{{ pkg.price }} Bath</div>
                <button class="support-button" @click="supportPackage(pkg)">Register</button>
            </div>
        </div>
    </div>
</template>

<script setup>
const packages = [
    {
        name: "Yakkaw #1",
        price: "4,000",
        features: [
            { text: "‚úî Connect WiFi", included: true },
            { text: "‚úî Connect Yakkaw application", included: true },
            { text: "‚úî Adapter", included: true },
            { text: "‚úò Support 3G/4G", included: false },
            { text: "‚úò Solar power system", included: false }
        ]
    },
    {
        name: "‡∏¢‡∏±‡∏Å‡∏©‡πå‡∏Ç‡∏≤‡∏ß #2",
        price: "6,000",
        features: [
            { text: "‚úî Connect WiFi ", included: true },
            { text: "‚úî Connect Yakkaw application", included: true },
            { text: "‚úî Adapter", included: true },
            { text: "‚úî Support 3G/4G", included: true },
            { text: "‚úò Solar power system", included: false }
        ]
    },
    {
        name: "‡∏¢‡∏±‡∏Å‡∏©‡πå‡∏Ç‡∏≤‡∏ß #3",
        price: "10,000",
        features: [
            { text: "‚úî Connect WiFi", included: true },
            { text: "‚úî Connect Yakkaw application", included: true },
            { text: "‚úî Adapter", included: true },
            { text: "‚úî Support 3G/4G", included: true },
            { text: "‚úî Solar power system", included: true }
        ]
    }
];

const accessToken = "3Ok9sDtpWsj1PEwlQLs99NNV8ts4WS+mTUNbryXZLwveWhJYu5Zxy2KKM7OCFChWIR3LsG4dWYePq6XegKqn5b9/GuZzzCVbXXhyQ4Oi8CIFFKVr48q/Nq0amToB2OhXmHpZscds/MX4Hgj1hgb0IAdB04t89/1O/w1cDnyilFU=";  // ‡πÉ‡∏™‡πà Channel Access Token ‡πÉ‡∏´‡∏°‡πà
const userId = "blank";  // ‡πÉ‡∏ä‡πâ User ID ‡∏´‡∏£‡∏∑‡∏≠ Group ID ‡∏Ç‡∏≠‡∏á LINE OA

const sendMessageToLine = async (messageText) => {
    const message = {
        type: "text",
        text: messageText
    };

    try {
        const response = await fetch("https://api.line.me/v2/bot/message/push", {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                "Authorization": `Bearer ${"3Ok9sDtpWsj1PEwlQLs99NNV8ts4WS+mTUNbryXZLwveWhJYu5Zxy2KKM7OCFChWIR3LsG4dWYePq6XegKqn5b9/GuZzzCVbXXhyQ4Oi8CIFFKVr48q/Nq0amToB2OhXmHpZscds/MX4Hgj1hgb0IAdB04t89/1O/w1cDnyilFU="}` // ‡πÉ‡∏™‡πà Channel Access Token ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
            },
            body: JSON.stringify({
                to: "blank", // ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏õ‡∏ó‡∏µ‡πà User ‡∏´‡∏£‡∏∑‡∏≠ Group ‡∏Ç‡∏≠‡∏á LINE OA
                messages: [message]
            })
        });

        const responseData = await response.json();
        if (response.ok) {
            console.log("‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏™‡πà‡∏á‡πÑ‡∏õ‡∏¢‡∏±‡∏á LINE OA ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß!");
            alert("‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏ñ‡∏π‡∏Å‡∏™‡πà‡∏á‡πÑ‡∏õ‡∏¢‡∏±‡∏á LINE OA ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢!");
        } else {
            console.error("‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏î‡πâ", responseData);
            alert(`‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ${responseData.error.message}`);
        }
    } catch (error) {
        console.error("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°", error);
        alert("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏õ LINE");
    }
};

const supportPackage = (pkg) => {
    const messageText = `üì¢ ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏™‡∏ô‡πÉ‡∏à‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ß‡∏±‡∏î‡∏ù‡∏∏‡πà‡∏ô üéâ\n\n‡πÅ‡∏û‡πá‡∏Å‡πÄ‡∏Å‡∏à: ${pkg.name}\n‡∏£‡∏≤‡∏Ñ‡∏≤: ${pkg.price} ‡∏ö‡∏≤‡∏ó\n\nüìå ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô!`;

    // ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏õ LINE OA
    sendMessageToLine(messageText);

    // ‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏¢‡∏±‡∏á LINE OA
    window.location.href = "https://line.me/R/ti/p/@606phsmk";
};
</script>


<style>
body {
    font-family: 'Sarabun', sans-serif;
    margin: 0;
    padding: 0;
    background-color: #070d22;
    color: #333;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

h1 {
    text-align: center;
    font-size: 36px;
    color: #f02a51;
    margin-bottom: 20px;
}

.support-text {
    text-align: center;
    font-size: 18px;
    margin-bottom: 40px;
    color: #ffffff;
}

.bank-details {
    background: #fff;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    margin-bottom: 40px;
    text-align: center;
}

.bank-details h2 {
    font-size: 24px;
    color: #333;
    margin-bottom: 10px;
}

.bank-details p {
    font-size: 16px;
    color: #555;
    margin: 5px 0;
}

.packages {
    display: flex;
    justify-content: space-around;
    flex-wrap: wrap;
    gap: 20px;
}

.package {
    background: #fff;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    text-align: center;
    flex: 1 1 300px;
    max-width: 300px;
}

.package h3 {
    font-size: 22px;
    color: #f02a51;
    margin-bottom: 15px;
}

.package p {
    font-size: 16px;
    color: #555;
    margin: 10px 0;
}

.package .price {
    font-size: 24px;
    font-weight: bold;
    color: #333;
    margin: 20px 0;
}

.package .support-button {
    background: #f02a51;
    color: #fff;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    font-size: 16px;
    cursor: pointer;
    transition: background 0.3s ease;
}

.package .support-button:hover {
    background: #d92041;
}

.grey-text {
    color: #b8b6b6;
}
</style>
